---
interface Props {
  variant?: "default" | "pink" | "dark";
  padding?: "sm" | "md" | "lg" | "xl";
  hover?: boolean;
  glow?: boolean;
  class?: string;
  as?: "div" | "article" | "section";
}

const {
  variant = "default",
  padding = "md",
  hover = true,
  glow = false,
  class: className = "",
  as: Component = "div",
} = Astro.props;

// Явная типизация для TypeScript
const variantKey: "default" | "pink" | "dark" = variant;
const paddingKey: "sm" | "md" | "lg" | "xl" = padding;

// Маппинг вариантов на классы
const variantClasses: Record<"default" | "pink" | "dark", string> = {
  default: "bg-white/90 backdrop-blur-sm border border-pink-100/50",
  pink: "bg-white/90 backdrop-blur-sm border border-pink-100/50 hover:border-pink-300/70",
  dark: "bg-surface-dark border border-surface-border",
};

// Маппинг padding на классы
const paddingClasses: Record<"sm" | "md" | "lg" | "xl", string> = {
  sm: "p-4",
  md: "p-6",
  lg: "p-7",
  xl: "p-8 md:p-12",
};

// Базовые классы карточки (bento-card совместимость)
const baseClasses = "rounded-2xl shadow-sm transition-all duration-300";
const hoverClasses = hover
  ? variant === "dark"
    ? "hover:border-surface-border/80 hover:translate-y-[-2px]"
    : "hover:shadow-xl hover:-translate-y-1"
  : "";
const glowClasses = glow ? "glow-hover" : "";

const cardClasses = `${baseClasses} ${variantClasses[variantKey]} ${paddingClasses[paddingKey]} ${hoverClasses} ${glowClasses} ${className}`.trim();
---

<Component class={cardClasses}>
  <slot />
</Component>
